---
import Button from "../components/Button.astro";
---

<div x-data="{ showmenu: false }" class="p-4 mx-auto fixed w-full bg-neutral-950 md:bg-transparent bg-opacity-70 backdrop-blur-sm z-[50]">
  <div id="navbar" class="flex flex-row justify-between">
    <nav id="desktopmenu" class="hidden lg:block w-full">
      <div class="max-w-5xl mx-auto">
        <ul class="flex flex-row justify-between items-center gap-4 w-full [&>li]:basis-1/5">
          <li class="some1 text-center"><a class="text-neutral-50 py-2" href="/">Hjem</a></li>
          <li class="some1 text-center"><a class="text-neutral-50 py-2" href="/om">Om os</a></li>
          <li class="text-center">
            <a class="text-neutral-50 flex items-center justify-center" href="/">
              <img
                src="/Logo_hvid.svg"
                alt="Logo for Vinens Essens"
                class="w-32 relative z-10 hover:-translate-y-1 hover:opacity-70 transition duration-300 ease-in-out"
              />
            </a>
          </li>
          <li class="some1 text-center"><a class="text-neutral-50 py-2" href="/listeview">Vinkasser</a></li>
          <li>
            <a href="/formular_vinkasse"><Button variant="primary" size="small">Bestil abonnement</Button></a>
          </li>
        </ul>
      </div>
    </nav>
    <!-- Burger Menu -->
    <button id="burgermenu" class="lg:hidden p-5" x-on:click="showmenu = !showmenu">
      <!-- Menu icon (Hamburger) -->
      <svg
        x-show="!showmenu"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="absolute right-4 top-9 transform -translate-y-1/2 h-9 w-9 text-neutral-50 hover:text-red-800 transition duration-300 ease-in-out"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"></path>
      </svg>
      <!-- Close icon (Cross) -->
      <svg
        x-show="showmenu"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="absolute right-4 top-9 transform -translate-y-1/2 h-9 w-9 text-neutral-50 hover:text-red-800 transition duration-300 ease-in-out"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
  </div>
  <nav
    id="mobilmenu"
    class="flex flex-col items-end justify-center p-4"
    x-show="showmenu"
    x-transition
    x-on:click="showmenu = false"
    x-on:click.outside="showmenu = false"
  >
    <ul class="space-y-2">
      <!-- Adjust width for the whole menu -->
      <li class="some1 text-right border-b-2 border-neutral-50 py-4 pt-12">
        <a class="text-neutral-50 py-2 hover:opacity-70" href="/">Hjem</a>
      </li>
      <li class="some1 text-right border-b-2 border-neutral-50 py-4">
        <a class="text-neutral-50 py-2 hover:opacity-70" href="/om">Om os</a>
      </li>
      <li class="some1 text-right border-b-2 border-neutral-50 py-4">
        <a class="text-neutral-50 py-2 hover:opacity-70" href="/listeview">Vinkasser</a>
      </li>
      <li class="pt-12">
        <a href="/formular_vinkasse">
          <Button variant="primary" size="small">Bestil abonnement</Button>
        </a>
      </li>
    </ul>
  </nav>
</div>

<style>
  /*Link-hover effect*/
  .some1 a {
    position: relative;
    line-height: 1.75rem /* 28px */;
  }

  .some1 a::before {
    content: "";
    position: absolute;
    width: 100%;
    height: 2px;
    border-radius: 4px;
    background-color: #c60e18;
    bottom: 0;
    left: 0;
    transform-origin: right;
    transform: scaleX(0);
    transition: transform 0.3s ease-in-out;
  }

  .some1 a:hover::before {
    transform-origin: left;
    transform: scaleX(1);
  }
</style>
